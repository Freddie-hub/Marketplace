exports.id=4,exports.ids=[4],exports.modules={8177:(e,r,a)=>{Promise.resolve().then(a.bind(a,89349)),Promise.resolve().then(a.bind(a,93853)),Promise.resolve().then(a.bind(a,72071))},16189:(e,r,a)=>{"use strict";var s=a(65773);a.o(s,"usePathname")&&a.d(r,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},20873:(e,r,a)=>{"use strict";a.d(r,{RD:()=>t,kD:()=>o});var s=a(79826);(0,s.J1)`
  mutation CreateFarmer($args: FarmerArgs) {
    createFarmer(args: $args) {
      status
      message
    }
  }
`;let t=(0,s.J1)`
  mutation CreateFarmer($args: FarmerArgs) {
    createFarmer(args: $args) {
      status
      message
    }
  }
`,o=(0,s.J1)`
  mutation CreateWarehouseWithManager($args: WarehouseRegistrationArgs) {
    createWarehouseWithManager(args: $args) {
      status
      message
      token
      user {
        id
        email
        role
        password
        Mname
        Lname
        Fname
      }
    }
  }
`},21083:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,86346,23)),Promise.resolve().then(a.t.bind(a,27924,23)),Promise.resolve().then(a.t.bind(a,35656,23)),Promise.resolve().then(a.t.bind(a,40099,23)),Promise.resolve().then(a.t.bind(a,38243,23)),Promise.resolve().then(a.t.bind(a,28827,23)),Promise.resolve().then(a.t.bind(a,62763,23)),Promise.resolve().then(a.t.bind(a,97173,23))},41612:(e,r,a)=>{"use strict";a.d(r,{ApolloProvider:()=>s});let s=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call ApolloProvider() from the server but ApolloProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\HP\\Downloads\\Marketplace\\Marketplace Code\\src\\app\\apollo-provider.tsx","ApolloProvider")},48340:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(62688).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},55427:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,16444,23)),Promise.resolve().then(a.t.bind(a,16042,23)),Promise.resolve().then(a.t.bind(a,88170,23)),Promise.resolve().then(a.t.bind(a,49477,23)),Promise.resolve().then(a.t.bind(a,29345,23)),Promise.resolve().then(a.t.bind(a,12089,23)),Promise.resolve().then(a.t.bind(a,46577,23)),Promise.resolve().then(a.t.bind(a,31307,23))},59574:(e,r,a)=>{Promise.resolve().then(a.bind(a,74549))},61135:()=>{},62688:(e,r,a)=>{"use strict";a.d(r,{A:()=>m});var s=a(43210);let t=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),l=e=>{let r=o(e);return r.charAt(0).toUpperCase()+r.slice(1)},i=(...e)=>e.filter((e,r,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===r).join(" ").trim(),n=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:t,className:o="",children:l,iconNode:c,...m},u)=>(0,s.createElement)("svg",{ref:u,...d,width:r,height:r,stroke:e,strokeWidth:t?24*Number(a)/Number(r):a,className:i("lucide",o),...!l&&!n(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(l)?l:[l]])),m=(e,r)=>{let a=(0,s.forwardRef)(({className:a,...o},n)=>(0,s.createElement)(c,{ref:n,iconNode:r,className:i(`lucide-${t(l(e))}`,`lucide-${e}`,a),...o}));return a.displayName=l(e),a}},70440:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});var s=a(31658);let t=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},72071:(e,r,a)=>{"use strict";a.d(r,{ApolloProvider:()=>g});var s=a(60687),t=a(38281),o=a(26408),l=a(83649),i=a(39768),n=a(1566),d=a(14744),c=a(42629);let m=(0,o.$)({uri:"https://coffee-sys-api.vercel.app/graphql"}),u=(0,d.o)((e,{headers:r})=>({headers:{...r,authorization:""}})),h=(0,c.S)(({graphQLErrors:e,networkError:r})=>{e&&e.forEach(({message:e,locations:r,path:a})=>{console.error(`GraphQL error: Message: ${e}, Location: ${r}, Path: ${a}`)}),r&&(console.error(`Network error: ${r}`),"statusCode"in r&&401===r.statusCode&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"))}),p=new l.R({link:(0,i.H)([h,u,m]),cache:new n.D,defaultOptions:{watchQuery:{errorPolicy:"all"},query:{errorPolicy:"all"}}});function g({children:e}){return(0,s.jsx)(t.X,{client:p,children:e})}},74549:(e,r,a)=>{"use strict";a.d(r,{default:()=>b});var s=a(60687),t=a(43210),o=a(16189),l=a(56658),i=a(20873),n=a(79826);let d=(0,n.J1)`
  mutation GoogleSignup($args: GoogleSignupInput!) {
    GoogleSignup(args: $args) {
      status
      message
      token
      user {
        id
        email
        Fname
        Lname
        role
        photo
        warehouse {
          id
          name
          location
          address
          capacity
          phone
          email
        }
      }
    }
  }
`;var c=a(62688);let m=(0,c.A)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),u=(0,c.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),h=(0,c.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var p=a(48340);let g=(0,c.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var x=a(89349),v=a(93853);let f=({icon:e,...r})=>(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("span",{className:"absolute left-4 text-gray-400",children:e}),(0,s.jsx)("input",{...r,className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00796B] focus:border-transparent transition-shadow duration-300"})]}),b=({role:e,title:r,subtitle:a})=>{let n=(0,o.useRouter)(),[c,b]=(0,t.useState)({firstName:"",middleName:"",lastName:"",email:"",password:"",phone:"",address:""}),[y,w]=(0,t.useState)(null),[N,P]=(0,t.useState)(!1),[j,{loading:k}]=(0,l.n)(i.RD),[A,{loading:C}]=(0,l.n)(d),S=e=>{let{name:r,value:a}=e.target;b(e=>({...e,[r]:a}))},R=()=>c.firstName&&c.lastName&&c.email&&c.password?(w(null),!0):(w("Please fill in all required fields: First Name, Last Name, Email, and Password."),!1),F=async()=>{if(R())try{let r={args:{email:c.email,Fname:c.firstName,Lname:c.lastName,Mname:c.middleName,phone:c.phone||null,address:c.address||null,password:c.password,role:e,photo:""}};console.log("Sending signup request with variables:",r);let a=await j({variables:r});if(console.log("Signup result:",a),a.data?.createFarmerOrBuyer?.status==="Success"){let e=a.data?.createFarmerOrBuyer?.message||"Account created successfully!";v.oR.success(e),setTimeout(()=>{n.push("/login")},1e3)}else{let e=a.data?.createFarmerOrBuyer?.message||"Signup failed. Please try again.";w(e),v.oR.error(e)}}catch(r){console.error("Signup error:",r);let e=r.message||"An error occurred during signup.";w(e),v.oR.error(e)}},M=async r=>{w(null);try{let a=JSON.parse(atob(r.credential.split(".")[1])),s={args:{googleUserData:{email:a.email,Fname:a.given_name,Lname:a.family_name||"",googleId:a.sub,photo:a.picture},role:e,..."WAREHOUSE_GUY"===e&&{warehouse_name:c.firstName+"'s Warehouse",warehouse_location:c.address||"Location TBD",warehouse_address:c.address,warehouse_capacity:1e3,warehouse_phone:c.phone,warehouse_email:c.email}}},t=await A({variables:s}),o=t.data?.GoogleSignup?.token;o?(localStorage.setItem("token",o),v.oR.success("Google signup successful!"),setTimeout(()=>{n.push("/dashboard")},1e3)):(v.oR.info("Authentication token not received."),setTimeout(()=>{n.push("/login")},1e3))}catch(r){console.error("Google signup error:",r);let e=r.message||"Google Sign-In failed.";w(e),v.oR.error(e)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4 font-sans",children:(0,s.jsxs)("div",{className:"w-full max-w-lg bg-white rounded-2xl shadow-lg p-8 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:r}),(0,s.jsx)("p",{className:"text-gray-500 mt-2",children:a})]}),y&&(0,s.jsx)("div",{className:"p-3 bg-red-50 border border-red-300 text-red-700 rounded-lg text-center",role:"alert",children:y}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(f,{icon:(0,s.jsx)(m,{size:16}),name:"firstName",type:"text",placeholder:"First Name *",value:c.firstName,onChange:S,required:!0,"aria-label":"First Name"}),(0,s.jsx)(f,{icon:(0,s.jsx)("span",{className:"opacity-0 w-4"}),name:"lastName",type:"text",placeholder:"Last Name *",value:c.lastName,onChange:S,required:!0,"aria-label":"Last Name"})]}),(0,s.jsx)(f,{icon:(0,s.jsx)(m,{size:16,className:"text-transparent"}),name:"middleName",type:"text",placeholder:"Middle Name (Optional)",value:c.middleName,onChange:S,"aria-label":"Middle Name"}),(0,s.jsx)(f,{icon:(0,s.jsx)(u,{size:16}),name:"email",type:"email",placeholder:"Email Address *",value:c.email,onChange:S,required:!0,"aria-label":"Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(f,{icon:(0,s.jsx)(h,{size:16}),name:"password",type:N?"text":"password",placeholder:"Password *",value:c.password,onChange:S,required:!0,"aria-label":"Password"}),(0,s.jsx)("button",{type:"button",onClick:()=>P(!N),className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm font-medium text-[#00796B]","aria-label":N?"Hide password":"Show password",children:N?"Hide":"Show"})]}),(0,s.jsx)("hr",{className:"border-t border-gray-200"}),(0,s.jsx)("p",{className:"text-sm text-center text-gray-500",children:"Optional Information"}),(0,s.jsx)(f,{icon:(0,s.jsx)(p.A,{size:16}),name:"phone",type:"tel",placeholder:"Phone Number",value:c.phone,onChange:S,"aria-label":"Phone Number"}),(0,s.jsx)(f,{icon:(0,s.jsx)(g,{size:16}),name:"address",type:"text",placeholder:"Address",value:c.address,onChange:S,"aria-label":"Address"})]}),(0,s.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,s.jsx)("button",{onClick:F,disabled:k,className:"w-full bg-[#00796B] text-white py-3 rounded-lg hover:bg-[#004D40] transition-colors duration-300 font-semibold disabled:bg-gray-400 shadow-md hover:shadow-lg",children:k?"Creating Account...":"Sign up with Email"}),(0,s.jsxs)("div",{className:"flex items-center text-gray-400",children:[(0,s.jsx)("hr",{className:"flex-grow border-t border-gray-200"}),(0,s.jsx)("span",{className:"px-4 text-xs font-semibold",children:"OR"}),(0,s.jsx)("hr",{className:"flex-grow border-t border-gray-200"})]}),(0,s.jsx)("div",{className:`w-full flex justify-center ${k||C?"opacity-50 pointer-events-none":""}`,children:(0,s.jsx)(x.j,{onSuccess:M,onError:()=>{w("Google Sign-In failed. Please try again."),v.oR.error("Google Sign-In failed. Please try again.")},theme:"outline",size:"large",width:"100%",text:"signup_with"})})]}),(0,s.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",(0,s.jsx)("a",{href:"/login",className:"font-semibold text-[#00796B] hover:underline",children:"Log In"})]})]})})}},89166:(e,r,a)=>{"use strict";a.d(r,{default:()=>s});let s=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\HP\\\\Downloads\\\\Marketplace\\\\Marketplace Code\\\\src\\\\app\\\\auth\\\\signUpForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\HP\\Downloads\\Marketplace\\Marketplace Code\\src\\app\\auth\\signUpForm.tsx","default")},92497:(e,r,a)=>{Promise.resolve().then(a.bind(a,74559)),Promise.resolve().then(a.bind(a,81819)),Promise.resolve().then(a.bind(a,41612))},94431:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});var s=a(37413);a(61135),a(56070);var t=a(41612),o=a(74559),l=a(81819);function i({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{children:[(0,s.jsx)(l.ToastContainer,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,s.jsx)(o.GoogleOAuthProvider,{clientId:"411082912715-r127ug6243m299mlq0iq5k4rgfbd09mp.apps.googleusercontent.com",children:(0,s.jsx)(t.ApolloProvider,{children:e})})]})})}},96526:(e,r,a)=>{Promise.resolve().then(a.bind(a,89166))}};