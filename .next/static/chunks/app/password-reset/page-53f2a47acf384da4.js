(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[972],{2657:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5339:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},6277:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(5155),a=t(2115),n=t(5695),l=t(5339),i=t(9946);let o=(0,i.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var d=t(2657);let c=(0,i.A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var u=t(2945),h=t(5933);function m(){let e=(0,h._)(["\nmutation ResetPassword($args: ResetPasswordArgs) {\n  resetPassword(args: $args) {\n    status\n    message\n  }\n}\n"]);return m=function(){return e},e}let x=(0,t(6112).J1)(m());function p(){let[e,s]=(0,a.useState)(""),[t,i]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[p,g]=(0,a.useState)(!1),[w,y]=(0,a.useState)(!1),[f,b]=(0,a.useState)(""),[v,j]=(0,a.useState)(""),N=(0,n.useRouter)(),k=(0,n.useSearchParams)(),[P,{loading:A}]=(0,u.n)(x);(0,a.useEffect)(()=>{let e=k.get("token");e?(b(e),j("")):j("Invalid or missing reset token. Please check your email link.")},[k]);let C=e=>e.trim()?e.length<8?"Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e)?null:"Password must contain at least one uppercase letter, one lowercase letter, and one number":"Password cannot be empty",R=async s=>{if(s.preventDefault(),m(""),!f)return void m("Reset token is missing. Please use the link from your email.");let r=C(e);if(r)return void m(r);if(e!==t)return void m("Passwords do not match");try{var a,n;let s=await P({variables:{args:{token:f,newPassword:e,confirmPassword:t}}});(null==(n=s.data)||null==(a=n.resetPassword)?void 0:a.status)==="Success"?(alert(s.data.resetPassword.message),N.push("/login")):m("Password reset failed. Please try again.")}catch(e){if(console.error("Password reset error:",e),e.graphQLErrors&&e.graphQLErrors.length>0){let s=e.graphQLErrors[0];s.message.includes("token")?m("Reset token is invalid or has expired. Please request a new password reset."):m(s.message||"Failed to reset password. Please try again.")}else e.networkError?m("Network error. Please check your connection and try again."):m("Failed to reset password. Please try again.")}};return v?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen w-full bg-gradient-to-br from-gray-50 to-gray-100",children:(0,r.jsxs)("div",{className:"w-full max-w-md mx-4 bg-white shadow-lg rounded-xl overflow-hidden border",children:[(0,r.jsx)("div",{className:"p-6 space-y-1",children:(0,r.jsxs)("h2",{className:"text-2xl font-bold text-center text-red-600 flex items-center justify-center gap-2",children:[(0,r.jsx)(l.A,{size:24}),"Invalid Link"]})}),(0,r.jsxs)("div",{className:"p-6 pt-0 space-y-4 text-center",children:[(0,r.jsx)("p",{className:"text-gray-600",children:v}),(0,r.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",onClick:()=>N.push("/forgot-password"),children:"Request New Reset Link"}),(0,r.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Remember your password?"," ",(0,r.jsx)("button",{onClick:()=>N.push("/login"),className:"text-blue-600 hover:underline",children:"Sign in"})]})]})]})}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen w-full bg-gradient-to-br from-gray-50 to-gray-100",children:(0,r.jsxs)("div",{className:"w-full max-w-md mx-4 bg-white shadow-lg rounded-xl overflow-hidden border",children:[(0,r.jsxs)("div",{className:"p-6 space-y-1",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Set a New Password"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Enter your new password below"})]}),(0,r.jsxs)("form",{onSubmit:R,className:"p-6 pt-0 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:p?"text":"password",placeholder:"New password",value:e,onChange:e=>s(e.target.value),className:"w-full pr-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:A,required:!0}),(0,r.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>g(!p),disabled:A,children:p?(0,r.jsx)(o,{size:18}):(0,r.jsx)(d.A,{size:18})})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:w?"text":"password",placeholder:"Confirm new password",value:t,onChange:e=>i(e.target.value),className:"w-full pr-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:A,required:!0}),(0,r.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>y(!w),disabled:A,children:w?(0,r.jsx)(o,{size:18}):(0,r.jsx)(d.A,{size:18})})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,r.jsx)("p",{children:"Password must contain:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-0.5 ml-2",children:[(0,r.jsx)("li",{children:"At least 8 characters"}),(0,r.jsx)("li",{children:"One uppercase letter"}),(0,r.jsx)("li",{children:"One lowercase letter"}),(0,r.jsx)("li",{children:"One number"})]})]}),h&&(0,r.jsxs)("p",{className:"text-red-500 text-sm px-2 flex items-center gap-2",children:[(0,r.jsx)(l.A,{size:16}),h]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:A||!f,children:A?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)(c,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting Password..."]}):"Reset Password"}),(0,r.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Remember your password?"," ",(0,r.jsx)("button",{type:"button",onClick:()=>N.push("/login"),className:"text-blue-600 hover:underline",children:"Sign in"})]})]})]})})}},6327:(e,s,t)=>{Promise.resolve().then(t.bind(t,6277))},9946:(e,s,t)=>{"use strict";t.d(s,{A:()=>u});var r=t(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase()),l=e=>{let s=n(e);return s.charAt(0).toUpperCase()+s.slice(1)},i=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()},o=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:h,...m}=e;return(0,r.createElement)("svg",{ref:s,...d,width:a,height:a,stroke:t,strokeWidth:l?24*Number(n)/Number(a):n,className:i("lucide",c),...!u&&!o(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(u)?u:[u]])}),u=(e,s)=>{let t=(0,r.forwardRef)((t,n)=>{let{className:o,...d}=t;return(0,r.createElement)(c,{ref:n,iconNode:s,className:i("lucide-".concat(a(l(e))),"lucide-".concat(e),o),...d})});return t.displayName=l(e),t}}},e=>{var s=s=>e(e.s=s);e.O(0,[980,687,441,684,358],()=>s(6327)),_N_E=e.O()}]);