(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[639],{3885:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});var s=a(5155),n=a(2115),o=a(2945),t=a(5963),l=a(5695),d=a(8543);let i=()=>{let[e,r]=(0,n.useState)({email:"",password:"",confirmPassword:"",Fname:"",Mname:"",Lname:"",phone:"",address:"",warehouseName:"",warehouseLocation:"",warehouseAddress:"",warehouseCapacity:void 0,warehousePhone:"",warehouseEmail:""}),[a,i]=(0,n.useState)({}),[c,u]=(0,n.useState)(!1),m=(0,l.useRouter)(),[h]=(0,o.n)(t.kD),g=()=>{let r={};return e.email||(r.email="Email is required"),e.password||(r.password="Password is required"),e.confirmPassword||(r.confirmPassword="Please confirm your password"),e.Fname||(r.Fname="First name is required"),e.Lname||(r.Lname="Last name is required"),e.warehouseName||(r.warehouseName="Warehouse name is required"),e.warehouseLocation||(r.warehouseLocation="Warehouse location is required"),e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&(r.email="Please enter a valid email address"),e.password&&e.password.length<8&&(r.password="Password must be at least 8 characters long"),e.password!==e.confirmPassword&&(r.confirmPassword="Passwords do not match"),e.phone&&!/^\+?[\d\s-()]+$/.test(e.phone)&&(r.phone="Please enter a valid phone number"),i(r),0===Object.keys(r).length},x=e=>{let{name:s,value:n,type:o}=e.target;r(e=>({...e,[s]:"number"===o?n?parseInt(n):void 0:n})),a[s]&&i(e=>({...e,[s]:""}))},p=async r=>{if(r.preventDefault(),g()){u(!0);try{var a,s;let{data:r}=await h({variables:{args:{email:e.email,password:e.password,Fname:e.Fname,Mname:e.Mname||void 0,Lname:e.Lname,phone:e.phone||void 0,address:e.address||void 0,warehouse_name:e.warehouseName,warehouse_location:e.warehouseLocation,warehouse_address:e.warehouseAddress||void 0,warehouse_capacity:e.warehouseCapacity?e.warehouseCapacity:void 0,warehouse_phone:e.warehousePhone||void 0,warehouse_email:e.warehouseEmail||void 0}}});(null==r||null==(a=r.createWarehouseWithManager)?void 0:a.status)==="success"?(console.log("debugging the data:::",r),d.oR.success("Warehouse Guy Registered Successfully"),console.log("Registration successful:",r.createWarehouseWithManager.message),r.createWarehouseWithManager.token&&(localStorage.setItem("authToken",r.createWarehouseWithManager.token),m.push("/login"))):i({general:(null==r||null==(s=r.createWarehouseWithManager)?void 0:s.message)||"Registration failed"})}catch(e){console.error("Registration error:",e),i({general:"An error occurred during registration. Please try again."})}finally{u(!1)}}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-4xl w-full bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 px-8 py-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white text-center",children:"Warehouse Manager Registration"}),(0,s.jsx)("p",{className:"text-green-100 text-center mt-2",children:"Register your warehouse and create your manager account"})]}),(0,s.jsxs)("form",{onSubmit:p,className:"p-8",children:[a.general&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-red-600 text-sm",children:a.general})}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 border-b pb-2",children:"Manager Information"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),(0,s.jsx)("input",{type:"text",name:"Fname",value:e.Fname,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(a.Fname?"border-red-500":"border-gray-300"),placeholder:"John"}),a.Fname&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.Fname})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),(0,s.jsx)("input",{type:"text",name:"Lname",value:e.Lname,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(a.Lname?"border-red-500":"border-gray-300"),placeholder:"Doe"}),a.Lname&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.Lname})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),(0,s.jsx)("input",{type:"text",name:"Mname",value:e.Mname,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Optional"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,s.jsx)("input",{type:"email",name:"email",value:e.email,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(a.email?"border-red-500":"border-gray-300"),placeholder:"john.doe@example.com"}),a.email&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,s.jsx)("input",{type:"tel",name:"phone",value:e.phone,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(a.phone?"border-red-500":"border-gray-300"),placeholder:"+254 700 000 000"}),a.phone&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.phone})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,s.jsx)("textarea",{name:"address",value:e.address,onChange:x,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Your address"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),(0,s.jsx)("input",{type:"password",name:"password",value:e.password,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(a.password?"border-red-500":"border-gray-300"),placeholder:"••••••••"}),a.password&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.password})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),(0,s.jsx)("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(a.confirmPassword?"border-red-500":"border-gray-300"),placeholder:"••••••••"}),a.confirmPassword&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.confirmPassword})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 border-b pb-2",children:"Warehouse Information"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Warehouse Name *"}),(0,s.jsx)("input",{type:"text",name:"warehouseName",value:e.warehouseName,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(a.warehouseName?"border-red-500":"border-gray-300"),placeholder:"Central Warehouse"}),a.warehouseName&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.warehouseName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),(0,s.jsx)("input",{type:"text",name:"warehouseLocation",value:e.warehouseLocation,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(a.warehouseLocation?"border-red-500":"border-gray-300"),placeholder:"Nairobi, Kenya"}),a.warehouseLocation&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.warehouseLocation})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,s.jsx)("textarea",{name:"warehouseAddress",value:e.warehouseAddress,onChange:x,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Full warehouse address"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity (tons)"}),(0,s.jsx)("input",{type:"number",name:"warehouseCapacity",value:e.warehouseCapacity||"",onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"1000",min:"1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Warehouse Phone"}),(0,s.jsx)("input",{type:"tel",name:"warehousePhone",value:e.warehousePhone,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"+254 700 000 001"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Warehouse Email"}),(0,s.jsx)("input",{type:"email",name:"warehouseEmail",value:e.warehouseEmail,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"warehouse@example.com"})]})]})]})]}),(0,s.jsx)("div",{className:"mt-8 flex justify-center",children:(0,s.jsx)("button",{type:"submit",disabled:c,className:"px-8 py-3 rounded-lg font-semibold text-white transition-colors ".concat(c?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700"),children:c?"Creating Account...":"Register Warehouse & Manager"})}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,s.jsx)("a",{href:"/login",className:"text-green-600 hover:text-green-700 font-semibold",children:"Sign in here"})]})})]})]})})}},5695:(e,r,a)=>{"use strict";var s=a(8999);a.o(s,"usePathname")&&a.d(r,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},5963:(e,r,a)=>{"use strict";a.d(r,{RD:()=>d,kD:()=>i});var s=a(5933),n=a(6112);function o(){let e=(0,s._)(["\n  mutation CreateFarmer($args: FarmerArgs) {\n    createFarmer(args: $args) {\n      status\n      message\n    }\n  }\n"]);return o=function(){return e},e}function t(){let e=(0,s._)(["\n  mutation CreateFarmer($args: FarmerArgs) {\n    createFarmer(args: $args) {\n      status\n      message\n    }\n  }\n"]);return t=function(){return e},e}function l(){let e=(0,s._)(["\n  mutation CreateWarehouseWithManager($args: WarehouseRegistrationArgs) {\n    createWarehouseWithManager(args: $args) {\n      status\n      message\n      token\n      user {\n        id\n        email\n        role\n        password\n        Mname\n        Lname\n        Fname\n      }\n    }\n  }\n"]);return l=function(){return e},e}(0,n.J1)(o());let d=(0,n.J1)(t()),i=(0,n.J1)(l())},9131:(e,r,a)=>{Promise.resolve().then(a.bind(a,3885))}},e=>{var r=r=>e(e.s=r);e.O(0,[543,980,687,441,684,358],()=>r(9131)),_N_E=e.O()}]);